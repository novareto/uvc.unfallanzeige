<div class="input-form" id="wizard">
  <div class="form-header">
    <h1 tal:condition="view/label|nothing"
	tal:content="view/label">
      Form Label
    </h1>
    <p tal:condition="view/description|nothing">
      <span tal:content="view/description" />
    </p>   
  </div>
  <div class="tooltip"></div>
  
  <ul class="tabs">
    <li tal:repeat="group view/groups">
      <a href=""
	 tal:define="idx repeat/group/index"
	 tal:content="group/label"
	 tal:attributes="href string:#fieldset-$idx;
			 rel idx" />
    </li>
  </ul>

  <form action="." method="post" id="wizard"
	enctype="multipart/form-data" class="edit-form"
	metal:define-macro="form"
	tal:attributes="method view/method;
                      enctype view/enctype;
		      acceptCharset view/acceptCharset;
		      accept view/accept;
		      action view/action|nothing;
		      name view/name;">
	<tal:groups tal:repeat="view view/groups">
	  <fieldset rel="" class="step"
		    tal:attributes="rel repeat/view/index;
				    id string:fieldset-${repeat/view/index}">
	    <legend tal:content="view/label">Label</legend>

	    <tal:block repeat="widget view/widgets/values">
	      <div id="" class="row"
		   tal:attributes="id string:${widget/id}-row;
				   class python: widget.error is not None and 'row row_error' or 'row'"
		   tal:condition="python:widget.mode != 'hidden'">
		<label>
		  <span tal:replace="widget/label"/>
		  <span class="required" tal:condition="widget/required"
			>*</span>
		</label>      

		<div class="error" tal:condition="widget/error">
		  <span tal:replace="structure widget/error/render">error</span>
		</div>

		<div class="widget" tal:content="structure widget/render" />
	      </div> 
	      <input type="hidden" value=""
		     tal:condition="python:widget.mode == 'hidden'"
		     tal:replace="structure widget/render" />
	    </tal:block>
	</fieldset>
	</tal:groups>

      <metal:block define-slot="buttons">
	<div metal:define-macro="buttons">
	  <div class="buttons" tal:condition="view/action|nothing"
	       metal:define-slot="bottom-buttons">
	    <input tal:repeat="action view/actions/values"
		   tal:replace="structure action/render"
		   />
	  </div>
	</div>
      </metal:block>
  </form>
</div>
